ФИО: Бусоргина Мария  
Тестовое задание Python


### Описание
Сервис обработки HTTP-запросов для управления данными о городах, улицах и магазинах.  
Сервис предоставляет API для выполнения основных операций: получения списков городов и улиц, а также создания и фильтрации магазинов. Все данные сохраняются в базе данных


### Установка
1. Клонировать репозиторий 
```bash
git clone https://github.com/MariaBusorgina/test_guider.git
```
2. Создать и активировать виртуальное окружение 
```bash
python -m venv venv
source venv/bin/activate
```
3. Перейти в каталог
```bash
cd city_guide
```
4. Установить зависимости
```bash
pip install -r requirements.txt
```
5. Создать и применить миграции
```bash
python manage.py migrate
```
6. Для восстановления данных из файла JSON выполнить команду  
*** для проверки работы функционала (или заполнить значениями самостоятельно)
```bash
python manage.py loaddata my_db.json
```
7. Запуск сервера
```bash
python manage.py runserver
```

### Доступные эндпоинты:

GET http://127.0.0.1:8000/city/
- получение списка всех городов из базы данных  
Пример ответа:  
```json
[
    {
        "id": 1,
        "title": "Сан-Хосе"
    },
    {
        "id": 2,
        "title": "Картаго"
    }
]
```

GET http://127.0.0.1:8000/city/<int:pk>/street/
- получение списка всех улиц указанного города
* pk — идентификатор города  
Пример ответа:  
```json
[
    {
        "id": 1,
        "title": "Первая улица"
    },
    {
        "id": 2,
        "title": "Вторая улица СХ"
    },
    {
        "id": 3,
        "title": "Третья улица СХ"
    }
]
```

POST http://127.0.0.1:8000/shop/
- создание нового магазина  
Пример тела запроса:
```json
{
    "title": "Название магазина",
    "city_name": "Название города",
    "street_name": "Название улицы",
    "house": "Номер дома",
    "open_time": "09:00:00",
    "close_time": "21:00:00"
}
```
Возвращает ID созданного магазина  
Пример ответа:
```json
{
    "id": 42  
}
```

GET http://127.0.0.1:8000/shop/
- получение списка магазинов.  
Есть возможность фильтрации магазинов по городу, улице и статусу открытости.  
Пример запроса с фильтрацией: GET http://127.0.0.1:8000/shop/?city=Сан-Хосе&street=Первая+улица&open=1

#### Параметры запроса

- **city** (необязательно): фильтрация магазинов по названию города
- **street** (необязательно): фильтрация магазинов по названию улицы
- **open** (необязательно): фильтрация магазинов по статусу открытости. Принимает значения:
  - `1`: Показать только открытые магазины в текущий момент.
  - `0`: Показать только закрытые магазины в текущий момент.

Возвращает список магазинов в формате:
```json
[
 {
     "id": 1,
     "title": "Shop 1",
     "city": "San Jose",
     "street": "Main",
     "house": "123",
     "open_time": "09:00:00",
     "close_time": "17:00:00"
 }
]
```

